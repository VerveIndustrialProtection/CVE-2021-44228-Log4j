if { windows of operating system} 

	delete run.bat
	move __appendfile run.bat

	waithidden run.bat

elseif {unix of operating system}

	delete run.sh
	move  __appendfile run.sh

	wait /bin/bash run.sh

endif

parameter "success" = "{exists true whose (if true then ((exit code of action = 0) or (exit code of action = 1) or (exit code of action = 2)) else false)}"

// Remove the Java Runtime before checking success
if {windows of operating system}
	folder delete "{parameter "RuntimeDir"}"
elseif {unix of operating system}
	wait /bin/bash -c 'rm -rf "{parameter "RuntimeDir"}"'
endif

// Do not proceed of logpresso errored out. This lets us fail the action
continue if {(parameter "success") as boolean}